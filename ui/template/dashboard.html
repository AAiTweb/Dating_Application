<html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <title>Home</title>
     <link rel="stylesheet" href="../assets/materialize/css/materialize.min.css"/>
    <link rel="stylesheet" href="../assets/materialize/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="../assets/dashboard/css/style.css" />
      <link rel="stylesheet" href="../assets/materialize/iconfont/material-icons.css">
      <link rel="stylesheet" href="../assets/Header/css/header_style.css">
  </head>
  {{ template "navbar" .Header}}
<div>


  <div >
    <div class="input-field search">
        <input id="search" type="search" class="validate">
        <label for="search"><i class="material-icons">search</i></label>
        <span class="helper-text" data-error="wrong" data-success="right">username</span>

     <!-- <input id="search" type="search"  required>
      <label for="search"><i class="material-icons">search</i></label>-->
    </div>
  </div>
    <div class="row" id="app">
      <div class="dashboard_container col s12 l12">
        <div class="row" id="dashboard">
            {{range .Board}}
                {{template  "card" .}}
                {{else}}
                <div class="not_identifier">No Matches Yet</div>
            {{end}}
            <!--
          <div class="con col m4 l2">
            <div class="card">
              <div class="card-image">
                <img
                  height="200px"
                  src="https://images.freeimages.com/images/large-previews/807/natal-sofia-1-1431304.jpg"
                />
                
              </div>
              <div class="card-content">
                  <p><b><span class="uname">Eyosi</span>, <span class="age">12</span></b></p>
                <p><span class="city">Addis Ababa</span>, <span class="country">Ethiopia</span> </p>
                <div class="progress" style="color: red">
                  <div class="determinate" style="width: 75%"></div>
                </div>
              </div>
              <div class="card-action">
                <a class="on firstLink bothLink"></a>
                <a class="secondLink bothLink"></a>
              </div>
            </div>
          </div>
          <div class="col m4 l2">
            <div class="card">
              <div class="card-image">
                <img
                  height="200px"
                  src="https://cdn.pixabay.com/photo/2019/10/30/07/04/paint-4588860_960_720.png"
                />
              </div>
              <div class="card-content">
                  <p><b><span class="uname">Charlie</span>, <span class="age">12</span></b></p>
                  <p><span class="city">Addis Ababa</span>, <span class="country">Ethiopia</span> </p>
                <div class="progress">
                  <div class="determinate" style="width: 34%"></div>

                </div>

              </div>
              <div class="card-action">
             <a class="on firstLink bothLink"></a>
                <a class="secondLink bothLink"></a>

              </div>

            </div>
          </div>

          <div class="col m4 l2">
              <div class="card">
                <div class="card-image">
                  <img
                    height="200px"
                    src="https://cdn.pixabay.com/photo/2019/10/30/07/04/paint-4588860_960_720.png"
                  />
                </div>
                <div class="card-content">
                  <p><b><span class="uname">Charlie</span>, <span class="age">12</span></b></p>
                  <p><span class="city">Addis Ababa</span>, <span class="country">Ethiopia</span> </p>
                  <div class="progress">
                    <div class="determinate" style="width: 80%"></div>
                  </div>
                </div>
                <div class="card-action">
                 <a class="on firstLink bothLink"></a>
                  <a class="secondLink bothLink"></a>
                </div>
              </div>
            </div>
            <div class="col m4 l2">
                <div class="card">
                  <div class="card-image">
                    <img
                      height="200px"
                      src="https://cdn.pixabay.com/photo/2019/10/30/07/04/paint-4588860_960_720.png"
                    />
                  </div>
                  <div class="card-content">
                      <p><b><span class="uname">Charlie</span>, <span class="age">12</span></b></p>
                      <p><span class="city">Addis Ababa</span>, <span class="country">USA</span> </p>
                    <div class="progress">
                      <div class="determinate" style="width: 70%"></div>
                    </div>
                  </div>
                  <div class="card-action">
                 <a class="firstLink bothLink"></a>
                    <a class="secondLink bothLink"></a>
                  </div>
                </div>
              </div>

              <div class="col m4 l2">
                  <div class="card">
                    <div class="card-image">
                      <img
                        height="200px"
                        src="https://cdn.pixabay.com/photo/2019/10/30/07/04/paint-4588860_960_720.png"
                      />
                    </div>
                    <div class="card-content">
                        <p><b><span class="uname">Charlie</span>, <span class="age">12</span></b></p>
                        <p><span class="city">Addis Ababa</span>, <span class="country">Ethiopia</span> </p>
                      <div class="progress">
                        <div class="determinate" style="width: 99%"></div>
                      </div>
                    </div>
                    <div class="card-action">
                   <a class="on firstLink bothLink"></a>
                      <a class="secondLink bothLink"></a>
                    </div>
                  </div>
                </div>
                <div class="col m4 l2">
                    <div class="card">
                      <div class="card-image">
                        <img
                          height="200px"
                          src="https://cdn.pixabay.com/photo/2019/10/30/07/04/paint-4588860_960_720.png"
                        />
                      </div>
                      <div class="card-content">
                          <p><b><span class="uname">Charlie</span>, <span class="age">12</span></b></p>
                          <p><span class="city">Addis Ababa</span>, <span class="country">Ethiopia</span> </p>
                        <div class="progress">
                          <div class="determinate" style="width: 10%"></div>
                        </div>
                      </div>
                      <div class="card-action">
                       <a class="on firstLink bothLink"></a>
                        <a class="secondLink bothLink"></a>
                      </div>
                    </div>-
                  </div>-->
        </div>
      </div>
    </div>
</div>
  <script src="../assets/materialize/jquery-3.4.1.js"></script>
  <script src="../assets/materialize/js/materialize.min.js"></script>


  <!--<script src="../assets/dashboard/homepagejs/DivCard.js"></script>-->
    <script>
        $(document).ready(function () {
            $('.sidenav').sidenav();
            $("#search").on("keyup",function(event){
                let searchWord = $(this).val().toLowerCase();
                console.log(searchWord)
                let dashboard = $("#dashboard")
                //let len = Array.from(dashboard).length
                if (searchWord.length==0){
                   location.href = "/home"
                }else{
                    dashboard.empty();
                    $.ajax({
                        url:"/search/user/?username="+searchWord,
                        success : function (data) {
                            // console.log(data)
                            data = JSON.parse(data)
                            console.log(data.length)
                            if(data.length==0){
                                let dashboard = $("#dashboard")
                                dashboard.append("<div class='not_identifier'>Search Not Found</div>")
                            }
                            for (let i = 0; i <data.length ; i++) {
                                let dashboard = $("#dashboard")
                                dashboard.append(data[i])
                            }
                        }
                    })
                }
                // dashboard.empty()

            })

        });
    </script>
  </body>
</html>
